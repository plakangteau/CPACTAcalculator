<!-- AI Development Guidelines for [Project Name] -->

# Blueprint: 웹 계산기

## 개요

이 문서는 Firebase Studio 환경 내에서 개발되는 현대적인 웹 계산기 애플리케이션의 설계 및 개발 청사진을 정의합니다. 이 계산기는 프레임워크 없이 HTML, CSS, JavaScript의 최신 웹 표준(Baseline)을 사용하여 구축되며, 7세그먼트 디스플레이를 웹 컴포넌트로 구현하여 모듈식 UI를 구성하고, 순수 JavaScript로 핵심 로직을 제어하는 것을 특징으로 합니다.

## 디자인 및 기능 명세

### 1. **시각적 디자인 (Aesthetics)**

- **디스플레이:** 14자리의 7세그먼트 디스플레이(Web Component)를 사용하여 모든 숫자가 고정된 너비를 차지하며, 클래식한 전자 계산기의 느낌을 재현합니다.
- **레이아웃:** 반응형 5x6 그리드 레이아웃을 기반으로 하며, 데스크톱과 모바일 환경 모두에서 최적의 사용자 경험을 제공합니다.
- **색상 팔레트:** 현대적이고 접근성 높은 색상 구성표를 사용합니다.
- **타이포그래피:** 명확하고 읽기 쉬운 글꼴을 사용하여 숫자와 연산자를 표시합니다.
- **인터랙션:** 버튼 클릭 시 시각적 피드백(크기 축소)을 제공하여 사용자 인터랙션을 명확히 합니다.

### 2. **핵심 기능 (Features)**

- **기본 사칙연산:** 더하기, 빼기, 곱하기, 나누기 기능.
- **7세그먼트 디스플레이:** 모든 숫자가 동일한 너비를 차지하여 안정적인 화면 표시를 보장합니다.
- **숫자 입력:** 0-9 숫자 및 소수점 입력.
- **연산자 표시:** 현재 활성화된 연산자를 디스플레이 상단에 표시합니다.
- **메모리 기능:** MC, MR, M+, M-.
- **Grand Total (GT):** GT 버튼으로 누적 합계를 계산합니다.
- **수정 및 초기화:** `C`(Clear Entry)와 `AC`(All Clear)로 입력 내용을 지우고, `⌫`(Backspace)로 마지막 입력을 삭제합니다.
- **기타 연산:** 백분율(%), 제곱근(√), 부호 변경(+/-) 기능.
- **입력 제한:** 디스플레이에 최대 14자리까지만 입력되도록 제한합니다.
- **오류 처리:** `0으로 나누기`와 같은 잘못된 연산 시 'Error'를 7세그먼트로 표시합니다.

### 3. **기술 스택 및 구현**

- **HTML:** 시맨틱 마크업과 Web Components 표준을 준수합니다.
- **CSS:** 현대적인 CSS 기능(CSS 변수, Grid, Flexbox, 미디어 쿼리)을 사용하여 스타일과 레이아웃을 관리합니다.
- **JavaScript:** ES 모듈과 최신 문법을 사용하여 애플리케이션 로직 및 Web Component를 구현합니다.

---

## 현재 작업 계획: 7세그먼트 디스플레이 시스템 구현

**목표:** 기존의 텍스트 기반 디스플레이를 '네모네모 숫자 8' 아이디어를 적용한 14자리의 7세그먼트 웹 컴포넌트 기반 디스플레이로 전면 교체하여, 모든 숫자가 동일한 너비를 차지하도록 하고 시각적 안정성을 확보합니다.

**세부 실행 계획:**

1.  **[완료] `digit.js` 웹 컴포넌트 생성:**
    -   숫자 하나를 표시하는 `<seven-segment-digit>` 커스텀 엘리먼트를 정의했습니다.
    -   내부적으로 7개의 선분(세그먼트)과 소수점으로 구성된 SVG를 포함합니다.
    -   `value` 속성('0'-'9', '-', '.')에 따라 해당하는 세그먼트의 색상을 변경하여 숫자를 표시하는 로직을 구현했습니다.

2.  **[완료] `index.html` 구조 변경:**
    -   기존의 텍스트 디스플레이 영역(`div.display`)을 제거했습니다.
    -   새로운 디스플레이 영역에 `<seven-segment-digit>` 컴포넌트 14개를 배치하여 14자리 디스플레이를 구성했습니다.
    -   `digit.js` 스크립트 파일을 HTML에 추가하여 커스텀 엘리먼트를 활성화했습니다.

3.  **[완료] `style.css` 스타일 업데이트:**
    -   새로운 7세그먼트 디스플레이 컨테이너(`.display-inner`)가 `flexbox`를 사용하여 컴포넌트들을 유연하게 정렬하도록 스타일을 수정했습니다.
    -   각 `<seven-segment-digit>` 컴포넌트의 크기와 간격을 반응형으로 조절했습니다.
    -   더 이상 필요 없어진 동적 폰트 크기 관련 CSS 코드를 모두 제거했습니다.

4.  **[완료] `main.js` 로직 대폭 수정:**
    -   **`updateDisplay` 함수 재작성:** `currentInput` 문자열을 기반으로 14개의 `<seven-segment-digit>` 컴포넌트 각각에 올바른 `value` 속성을 할당하여 숫자를 표시하도록 로직을 완전히 변경했습니다. 숫자는 오른쪽 정렬되며, 소수점도 정확히 처리됩니다.
    -   불필요해진 `adjustFontSize` 함수와 관련 `resize` 이벤트 리스너를 제거했습니다.
