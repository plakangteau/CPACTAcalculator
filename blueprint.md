<!-- AI Development Guidelines for [Project Name] -->

# Blueprint: 웹 계산기

## 개요

이 문서는 Firebase Studio 환경 내에서 개발되는 현대적인 웹 계산기 애플리케이션의 설계 및 개발 청사진을 정의합니다. 이 계산기는 프레임워크 없이 HTML, CSS, JavaScript의 최신 웹 표준(Baseline)을 사용하여 구축되며, Web Components를 활용한 모듈식 UI, 현대적인 CSS 스타일링, 그리고 순수 JavaScript로 구현된 핵심 로직을 특징으로 합니다.

## 디자인 및 기능 명세

### 1. **시각적 디자인 (Aesthetics)**

- **레이아웃:** 반응형 5x6 그리드 레이아웃을 기반으로 하며, 데스크톱과 모바일 환경 모두에서 최적의 사용자 경험을 제공합니다.
- **색상 팔레트:** 현대적이고 접근성 높은 색상 구성표를 사용합니다.
- **타이포그래피:** 명확하고 읽기 쉬운 글꼴을 사용하여 숫자와 연산자를 표시합니다.
- **인터랙션:** 버튼 클릭 시 시각적 피드백(크기 축소)을 제공하여 사용자 인터랙션을 명확히 합니다.

### 2. **핵심 기능 (Features)**

- **기본 사칙연산:** 더하기, 빼기, 곱하기, 나누기 기능.
- **숫자 입력:** 0-9 숫자 및 소수점 입력.
- **연산자 표시:** 현재 활성화된 연산자를 디스플레이 상단에 표시합니다.
- **메모리 기능:** MC, MR, M+, M-.
- **Grand Total (GT):** GT 버튼으로 누적 합계를 계산합니다.
- **수정 및 초기화:** `C`(Clear Entry)와 `AC`(All Clear)로 입력 내용을 지우고, `⌫`(Backspace)로 마지막 입력을 삭제합니다.
- **기타 연산:** 백분율(%), 제곱근(√), 부호 변경(+/-) 기능.
- **입력 제한:** 디스플레이에 최대 14자리까지만 입력되도록 제한합니다.
- **오류 처리:** `0으로 나누기`와 같은 잘못된 연산 시 'E' 표시등으로 오류 상태를 알립니다.

### 3. **기술 스택 및 구현**

- **HTML:** 시맨틱 마크업과 Web Components 표준을 준수합니다.
- **CSS:** 현대적인 CSS 기능(CSS 변수, Grid, Flexbox, 미디어 쿼리)을 사용하여 스타일과 레이아웃을 관리합니다.
- **JavaScript:** ES 모듈과 최신 문법(Async/Await, 화살표 함수 등)을 사용하여 애플리케이션 로직을 구현합니다.

---

## 현재 작업 계획: 14자리 입력 제한 기능 구현

**목표:** PC와 모바일 환경 모두에서 사용자가 디스플레이에 최대 14자리(소수점 포함)까지만 숫자를 입력할 수 있도록 제한합니다.

**세부 실행 계획:**

1.  **[완료] `main.js` 수정:**
    -   **입력 처리 로직 통합:** 숫자와 소수점 입력을 모두 처리하는 `handleNumberInput` 함수를 새로 구현하여 코드의 일관성과 유지보수성을 높였습니다.
    -   **엄격한 자릿수 검사:** `handleNumberInput` 함수 내에서, 현재 입력값(`currentInput`)의 `length`가 14 이상일 경우 새로운 입력(숫자 또는 소수점)을 무시하도록 조건을 추가했습니다. 이 길이는 소수점과 부호를 모두 포함하여 계산됩니다.
    -   **소수점 입력 버그 수정:** 사용자가 `.` 버튼을 눌렀을 때, 기존에 소수점이 없는 경우에만 추가되도록 하고, 초기값이 "0"일 때 "."을 누르면 "0."으로 정상 처리되도록 로직을 수정했습니다.
    -   **GT 계산 로직 개선:** `=` 버튼을 눌러 최종 계산이 완료된 결과값만 `grandTotal`에 누적되도록 수정하여, 중간 계산 과정이 GT에 영향을 주지 않도록 변경했습니다.
    -   **사용자 경험 개선:** `M+`, `M-` 등의 메모리 기능 사용 후, `shouldResetDisplay` 플래그를 활성화하여 다음 숫자 입력 시 디스플레이가 자동으로 초기화되고 새로운 입력이 시작되도록 수정했습니다.
