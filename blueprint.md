<!-- AI Development Guidelines for [Project Name] -->

# Blueprint: 웹 계산기

## 개요

이 문서는 Firebase Studio 환경 내에서 개발되는 현대적인 웹 계산기 애플리케이션의 설계 및 개발 청사진을 정의합니다. 이 계산기는 프레임워크 없이 HTML, CSS, JavaScript의 최신 웹 표준(Baseline)을 사용하여 구축되며, 7세그먼트 디스플레이를 웹 컴포넌트로 구현하여 모듈식 UI를 구성하고, 순수 JavaScript로 핵심 로직을 제어하는 것을 특징으로 합니다.

## 디자인 및 기능 명세

### 1. **시각적 디자인 (Aesthetics)**

- **디스플레이:** 14자리의 7세그먼트 디스플레이(Web Component)를 사용하여 클래식한 전자 계산기 느낌을 재현합니다. 모든 숫자는 고정된 너비를 가지며, 세그먼트는 부드러운 사각형 모양으로 다듬어져 가독성을 높였습니다.
- **레이아웃:** 반응형 5x6 그리드 레이아웃을 기반으로 하며, 데스크톱과 모바일 환경 모두에서 최적의 사용자 경험을 제공합니다.
- **색상 팔레트:** 현대적이고 접근성 높은 색상 구성표를 사용합니다.
- **타이포그래피:** 명확하고 읽기 쉬운 글꼴을 사용하여 숫자와 연산자를 표시합니다.
- **인터랙션:** 버튼 클릭 시 시각적 피드백(크기 축소)을 제공하여 사용자 인터랙션을 명확히 합니다.

### 2. **핵심 기능 (Features)**

- **기본 사칙연산:** 더하기, 빼기, 곱하기, 나누기 기능.
- **7세그먼트 디스플레이:** 모든 숫자가 동일한 너비를 차지하여 안정적인 화면 표시를 보장합니다.
- **천 단위 쉼표:** 정수 부분에 세 자리마다 쉼표(,)를 자동으로 표시하여 긴 숫자의 가독성을 향상시킵니다.
- **숫자 입력:** 0-9 숫자 및 소수점 입력.
- **메모리 기능:** MC, MR, M+, M-.
- **Grand Total (GT):** GT 버튼으로 누적 합계를 계산합니다.
- **수정 및 초기화:** `C`(Clear Entry)와 `AC`(All Clear)로 입력 내용을 지우고, `⌫`(Backspace)로 마지막 입력을 삭제합니다.
- **기타 연산:** 백분율(%), 제곱근(√), 부호 변경(+/-) 기능.
- **입력 제한:** 디스플레이에 최대 14자리까지만 입력되도록 제한합니다.
- **오류 처리:** `0으로 나누기`와 같은 잘못된 연산 시 'Error'를 7세그먼트로 표시합니다.

### 3. **기술 스택 및 구현**

- **HTML:** 시맨틱 마크업과 Web Components 표준을 준수합니다.
- **CSS:** 현대적인 CSS 기능(CSS 변수, Grid, Flexbox, 미디어 쿼리)을 사용하여 스타일과 레이아웃을 관리합니다.
- **JavaScript:** ES 모듈과 최신 문법을 사용하여 애플리케이션 로직 및 Web Component를 구현합니다.

---

## 현재 작업 계획: 가독성 향상

**목표:** 숫자 디스플레이의 가독성을 높이기 위해 천 단위 쉼표를 추가하고, 7세그먼트의 시각적 디자인을 개선합니다.

**세부 실행 계획:**

1.  **[완료] `digit.js` 컴포넌트 업그레이드:**
    -   **세그먼트 모양 변경:** 뾰족한 `<polygon>` 대신 둥근 모서리를 가진 `<rect>`를 사용하여 세그먼트 끝을 부드러운 사각형으로 변경했습니다. 이로써 시각적 안정감과 가독성이 향상되었습니다.
    -   **쉼표(,) 세그먼트 추가:** 쉼표를 표시하기 위한 새로운 SVG `<path>`를 추가하고, `digitMap`에 `','` 키를 등록하여 컴포넌트가 쉼표를 렌더링할 수 있도록 확장했습니다.

2.  **[완료] `main.js` 로직 수정 (천 단위 쉼표 구현):**
    -   **`updateDisplay` 함수 개선:** 숫자 표시 로직을 수정하여, `currentInput`의 정수 부분을 `toLocaleString('en-US')`을 통해 천 단위 쉼표가 포함된 문자열로 자동 변환합니다.
    -   변환된 문자열(쉼표 포함)을 기반으로 각 `seven-segment-digit` 컴포넌트에 올바른 `value`를 할당하여, 쉼표가 포함된 숫자가 디스플레이에 정확히 표시되도록 로직을 업데이트했습니다.
