<!-- AI Development Guidelines for [Project Name] -->

# Blueprint: 웹 계산기

## 개요

이 문서는 Firebase Studio 환경 내에서 개발되는 현대적인 웹 계산기 애플리케이션의 설계 및 개발 청사진을 정의합니다. 이 계산기는 프레임워크 없이 HTML, CSS, JavaScript의 최신 웹 표준(Baseline)을 사용하여 구축되며, **고정된 14개의 슬롯으로 구성된 7세그먼트 디스플레이**를 통해 숫자와 기호를 표시하여 클래식 계산기의 시각적 안정성을 보장합니다.

## 디자인 및 기능 명세

### 1. **시각적 디자인 (Aesthetics)**

- **디스플레이:** 14개의 고정된 슬롯으로 구성된 7세그먼트 디스플레이(Web Component)를 사용합니다. 각 슬롯은 숫자와 기호(쉼표, 소수점)를 독립적으로 표시하여 **숫자 밀림 현상 없이** 안정적인 화면을 제공합니다.
- **쉼표 스타일:** 가독성과 소수점과의 구분을 위해, 쉼표는 각 숫자 슬롯의 **오른쪽 상단**에 세로 막대 형태로 표시됩니다.
- **레이아웃:** 반응형 5x6 그리드 레이아웃을 기반으로 하며, 데스크톱과 모바일 환경 모두에서 최적의 사용자 경험을 제공합니다.
- **인터랙션:** 버튼 클릭 시 시각적 피드백(크기 축소)을 제공하여 사용자 인터랙션을 명확히 합니다.

### 2. **핵심 기능 (Features)**

- **기본 사칙연산:** 더하기, 빼기, 곱하기, 나누기 기능.
- **고정 슬롯 디스플레이:** 14개의 '투명 8' 컨셉의 디스플레이 슬롯 안에서만 숫자가 표시되어, 입력 값의 길이에 관계없이 레이아웃이 유지됩니다.
- **천 단위 쉼표:** 정수 부분에 세 자리마다 쉼표(,)를 자동으로 표시하여 긴 숫자의 가독성을 향상시킵니다.
- **숫자 입력:** 0-9 숫자 및 소수점 입력.
- **메모리 및 GT:** MC, MR, M+, M-, GT 기능.
- **수정 및 초기화:** C, AC, ⌫ 기능.
- **기타 연산:** %, √, +/- 기능.
- **입력 제한 및 오류 처리:** 최대 14자리 숫자까지 입력 가능하며, 잘못된 연산 시 'Error'를 표시합니다.

### 3. **기술 스택 및 구현**

- **HTML:** 시맨틱 마크업과 Web Components 표준을 준수합니다.
- **CSS:** 현대적인 CSS 기능(Grid, Flexbox, 미디어 쿼리)을 사용합니다.
- **JavaScript:** ES 모듈과 최신 문법을 사용하여 디스플레이 로직 및 Web Component를 구현합니다.

---

## 현재 작업 계획: 고정 슬롯 디스플레이 시스템 완성

**목표:** "투명한 8자 14개" 컨셉을 완벽히 구현하여, 쉼표나 소수점이 추가될 때 숫자가 밀리는 문제를 근본적으로 해결하고 시각적 안정성을 확보합니다.

**세부 실행 계획:**

1.  **[완료] `digit.js` 컴포넌트 재수정:**
    -   **쉼표 위치 변경:** 쉼표(,) SVG를 오른쪽 상단으로 이동시켜 소수점과 명확히 구분되도록 수정했습니다.
    -   **값 처리 방식 변경:** 컴포넌트가 `value="5,"` 나 `value="2."` 와 같이 **숫자와 기호를 동시에** 포함하는 문자열을 처리하도록 `render` 로직을 업그레이드했습니다. 이를 통해 하나의 슬롯 안에서 숫자와 기호가 함께 켜질 수 있습니다.

2.  **[완료] `main.js` 디스플레이 로직 전면 재설계:**
    -   `toLocaleString()` 기반의 로직을 **완전히 폐기**했습니다.
    -   **수동 포매팅 로직 구현:** 입력된 숫자 문자열을 정수부와 소수부로 분리하고, 오른쪽부터 각 슬롯에 할당될 값을 계산하는 새로운 `updateDisplay` 함수를 작성했습니다.
    -   세 자리마다 해당하는 숫자 값에 쉼표(`,`)를, 마지막 정수 값에 소수점(`.`)을 **덧붙여** 컴포넌트에 전달함으로써, 기호가 별도의 공간을 차지하지 않도록 문제를 해결했습니다.
